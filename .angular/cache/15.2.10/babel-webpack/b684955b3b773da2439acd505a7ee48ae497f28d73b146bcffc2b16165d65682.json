{"ast":null,"code":"import { ElementRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AppComponent } from 'app/app.component';\nimport { AuthserviceService } from 'environments/airtable/authservice.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"environments/airtable/authservice.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ngx-translate/core\";\nimport * as i4 from \"app/app.component\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction LockComponent_a_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function LockComponent_a_60_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.signIn());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"GetStarted\"), \" \");\n  }\n}\nfunction LockComponent_a_61_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelement(1, \"span\", 46);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LockComponent_a_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 42)(1, \"div\", 43);\n    i0.ɵɵtemplate(2, LockComponent_a_61_div_2_Template, 2, 0, \"div\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loading);\n  }\n}\nconst _c0 = function () {\n  return [\"/dashboard\"];\n};\nexport let LockComponent = /*#__PURE__*/(() => {\n  class LockComponent {\n    element;\n    authService;\n    router;\n    translate;\n    root;\n    test = new Date();\n    toggleButton;\n    sidebarVisible;\n    username = '';\n    password = '';\n    loading = false;\n    selectedLanguage;\n    constructor(element, authService, router, translate, root) {\n      this.element = element;\n      this.authService = authService;\n      this.router = router;\n      this.translate = translate;\n      this.root = root;\n      this.sidebarVisible = false;\n      this.translate.setDefaultLang(\"en\");\n    }\n    checkFullPageBackgroundImage() {\n      var $page = $('.full-page');\n      var image_src = $page.data('image');\n      if (image_src !== undefined) {\n        var image_container = '<div class=\"full-page-background\" style=\"background-image: url(' + image_src + ') \"/>';\n        $page.append(image_container);\n      }\n    }\n    ngOnInit() {\n      this.authService.disconnect();\n      this.checkFullPageBackgroundImage();\n      var body = document.getElementsByTagName('body')[0];\n      body.classList.add('lock-page');\n      var navbar = this.element.nativeElement;\n      this.toggleButton = navbar.getElementsByClassName('navbar-toggle')[0];\n      setTimeout(function () {\n        // after 1000 ms we add the class animated to the login/register card\n        $('.card').removeClass('card-hidden');\n      }, 700);\n    }\n    ngOnDestroy() {\n      var body = document.getElementsByTagName('body')[0];\n      body.classList.remove('lock-page');\n    }\n    sidebarToggle() {\n      var toggleButton = this.toggleButton;\n      var body = document.getElementsByTagName('body')[0];\n      var sidebar = document.getElementsByClassName('navbar-collapse')[0];\n      if (this.sidebarVisible == false) {\n        setTimeout(function () {\n          toggleButton.classList.add('toggled');\n        }, 500);\n        body.classList.add('nav-open');\n        this.sidebarVisible = true;\n      } else {\n        this.toggleButton.classList.remove('toggled');\n        this.sidebarVisible = false;\n        body.classList.remove('nav-open');\n      }\n    }\n    signIn() {\n      this.loading = true;\n      this.authService.signIn(this.username, this.password).subscribe(authenticated => {\n        if (authenticated) {\n          // Successfully authenticated, navigate to the dashboard or perform other actions\n          this.router.navigate(['/dashboard']);\n          this.showNotification(\"top\", \"center\", \"success\", \"Authentification done\");\n        } else {\n          // Authentication failed, show an error message or take appropriate action\n          this.showNotification(\"top\", \"center\", \"warning\", \"Wrong combinaison. Try Again\");\n        }\n        this.loading = false;\n      });\n    }\n    showNotification(from, align, type, message) {\n      $.notify({\n        icon: \"ti-gift\",\n        message: message\n      }, {\n        type: type,\n        timer: 1,\n        placement: {\n          from: from,\n          align: align\n        },\n        template: '<div data-notify=\"container\" class=\"col-11 col-md-4 alert alert-{0} alert-with-icon\" role=\"alert\"><button type=\"button\" aria-hidden=\"true\" class=\"close\" data-notify=\"dismiss\"><i class=\"nc-icon nc-simple-remove\"></i></button><span data-notify=\"icon\" class=\"nc-icon nc-bell-55\"></span> <span data-notify=\"title\">{1}</span> <span data-notify=\"message\">{2}</span><div class=\"progress\" data-notify=\"progressbar\"><div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div></div><a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a></div>'\n      });\n    }\n    switchLanguage(language) {\n      this.selectedLanguage = language;\n      this.root.switchLanguage(language);\n    }\n    static ɵfac = function LockComponent_Factory(t) {\n      return new (t || LockComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.AuthserviceService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.TranslateService), i0.ɵɵdirectiveInject(i4.AppComponent));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LockComponent,\n      selectors: [[\"lock-cmp\"]],\n      decls: 69,\n      vars: 25,\n      consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-absolute\", \"fixed-top\", \"navbar-transparent\"], [1, \"container\"], [1, \"navbar-wrapper\"], [1, \"navbar-toggle\", 3, \"click\"], [\"type\", \"button\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-bar\", \"bar1\"], [1, \"navbar-toggler-bar\", \"bar2\"], [1, \"navbar-toggler-bar\", \"bar3\"], [\"routerLinkActive\", \"active\", 1, \"navbar-brand\", 3, \"routerLink\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navigation\", \"aria-controls\", \"navigation-index\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-bar\", \"navbar-kebab\"], [\"id\", \"navigation\", 1, \"collapse\", \"navbar-collapse\", \"justify-content-end\"], [1, \"navbar-nav\"], [1, \"nav-item\", \"star-clickable\"], [1, \"nav-link\", \"btn-rotate\", 3, \"click\"], [\"src\", \"../../../assets/img/GB.png\", \"alt\", \"Flag 1\"], [1, \"d-lg-none\", \"d-md-block\"], [\"src\", \"../../../assets/img/DE.png\", \"alt\", \"Flag 2\"], [\"src\", \"../../../assets/img/flags/FR.png\", \"alt\", \"Flag 3\"], [1, \"wrapper\", \"wrapper-full-page\"], [\"filter-color\", \"black\", \"data-image\", \"./assets/img/bg/bruno-abatti.jpg\", 1, \"full-page\", \"lock-page\", \"section-image\"], [1, \"content\"], [1, \"col-lg-4\", \"col-md-6\", \"ml-auto\", \"mr-auto\"], [1, \"card\", \"card-login\"], [1, \"card-header\"], [1, \"header\", \"text-center\"], [1, \"card-body\"], [1, \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [1, \"nc-icon\", \"nc-single-02\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [1, \"nc-icon\", \"nc-key-25\"], [\"type\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [1, \"card-footer\"], [\"class\", \"btn btn-warning btn-round btn-block mb-3\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-warning btn-round btn-block mb-3\", 4, \"ngIf\"], [1, \"footer\", \"footer-black\", \"footer-white\"], [1, \"row\"], [1, \"credits\", \"ml-auto\"], [1, \"copyright\"], [1, \"btn\", \"btn-warning\", \"btn-round\", \"btn-block\", \"mb-3\", 3, \"click\"], [1, \"btn\", \"btn-warning\", \"btn-round\", \"btn-block\", \"mb-3\"], [1, \"text-center\"], [\"class\", \"spinner-border\", \"role\", \"status\", \"style\", \"width: 0.80rem; height: 0.80rem;\", 4, \"ngIf\"], [\"role\", \"status\", 1, \"spinner-border\", 2, \"width\", \"0.80rem\", \"height\", \"0.80rem\"], [1, \"visually-hidden\"]],\n      template: function LockComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n          i0.ɵɵlistener(\"click\", function LockComponent_Template_div_click_3_listener() {\n            return ctx.sidebarToggle();\n          });\n          i0.ɵɵelementStart(4, \"button\", 4);\n          i0.ɵɵelement(5, \"span\", 5)(6, \"span\", 6)(7, \"span\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"a\", 8);\n          i0.ɵɵtext(9);\n          i0.ɵɵpipe(10, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"button\", 9);\n          i0.ɵɵelement(12, \"span\", 10)(13, \"span\", 10)(14, \"span\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 11)(16, \"ul\", 12)(17, \"li\", 13)(18, \"a\", 14);\n          i0.ɵɵlistener(\"click\", function LockComponent_Template_a_click_18_listener() {\n            return ctx.switchLanguage(\"en\");\n          });\n          i0.ɵɵelement(19, \"img\", 15);\n          i0.ɵɵelementStart(20, \"p\")(21, \"span\", 16);\n          i0.ɵɵtext(22, \" English\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(23, \"li\", 13)(24, \"a\", 14);\n          i0.ɵɵlistener(\"click\", function LockComponent_Template_a_click_24_listener() {\n            return ctx.switchLanguage(\"de\");\n          });\n          i0.ɵɵelement(25, \"img\", 17);\n          i0.ɵɵelementStart(26, \"p\")(27, \"span\", 16);\n          i0.ɵɵtext(28, \" Deutsch\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(29, \"li\", 13)(30, \"a\", 14);\n          i0.ɵɵlistener(\"click\", function LockComponent_Template_a_click_30_listener() {\n            return ctx.switchLanguage(\"fr\");\n          });\n          i0.ɵɵelement(31, \"img\", 18);\n          i0.ɵɵelementStart(32, \"p\")(33, \"span\", 16);\n          i0.ɵɵtext(34, \" Francais\");\n          i0.ɵɵelementEnd()()()()()()()();\n          i0.ɵɵelementStart(35, \"div\", 19)(36, \"div\", 20)(37, \"div\", 21)(38, \"div\", 1)(39, \"div\", 22)(40, \"div\", 23)(41, \"div\", 24)(42, \"div\", 24)(43, \"h3\", 25);\n          i0.ɵɵtext(44, \"Sign in to Omnisensa\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(45, \"div\", 26)(46, \"div\", 27)(47, \"div\", 28)(48, \"span\", 29);\n          i0.ɵɵelement(49, \"i\", 30);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(50, \"input\", 31);\n          i0.ɵɵlistener(\"ngModelChange\", function LockComponent_Template_input_ngModelChange_50_listener($event) {\n            return ctx.username = $event;\n          });\n          i0.ɵɵpipe(51, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(52, \"div\", 27)(53, \"div\", 28)(54, \"span\", 29);\n          i0.ɵɵelement(55, \"i\", 32);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(56, \"input\", 33);\n          i0.ɵɵlistener(\"ngModelChange\", function LockComponent_Template_input_ngModelChange_56_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵpipe(57, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(58, \"br\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(59, \"div\", 34);\n          i0.ɵɵtemplate(60, LockComponent_a_60_Template, 3, 3, \"a\", 35);\n          i0.ɵɵtemplate(61, LockComponent_a_61_Template, 3, 1, \"a\", 36);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(62, \"footer\", 37)(63, \"div\", 1)(64, \"div\", 38)(65, \"div\", 39)(66, \"span\", 40);\n          i0.ɵɵtext(67);\n          i0.ɵɵpipe(68, \"date\");\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(24, _c0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 15, \"LoginPage\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵclassProp(\"active\", ctx.selectedLanguage === \"en\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassProp(\"active\", ctx.selectedLanguage === \"de\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassProp(\"active\", ctx.selectedLanguage === \"fr\");\n          i0.ɵɵadvance(21);\n          i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(51, 17, \"Username\"));\n          i0.ɵɵproperty(\"ngModel\", ctx.username);\n          i0.ɵɵadvance(6);\n          i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(57, 19, \"Password\"));\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \\u00A9 \", i0.ɵɵpipeBind2(68, 21, ctx.test, \"yyyy\"), \", made by Rian \");\n        }\n      },\n      dependencies: [i5.NgIf, i2.RouterLink, i2.RouterLinkActive, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i5.DatePipe, i3.TranslatePipe],\n      encapsulation: 2\n    });\n  }\n  return LockComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}