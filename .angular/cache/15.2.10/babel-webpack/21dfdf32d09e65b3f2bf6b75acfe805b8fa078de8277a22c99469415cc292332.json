{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Compose a transfer handler with a core transfer handler and a list of middleware.\n * @param coreHandler Core transfer handler\n * @param middleware\tList of middleware\n * @returns A transfer handler whose option type is the union of the core\n * \ttransfer handler's option type and the middleware's option type.\n * @internal\n */\nconst composeTransferHandler = (coreHandler, middleware) => (request, options) => {\n  const context = {};\n  let composedHandler = composeHandlerRequest => coreHandler(composeHandlerRequest, options);\n  for (let i = middleware.length - 1; i >= 0; i--) {\n    const m = middleware[i];\n    const resolvedMiddleware = m(options);\n    composedHandler = resolvedMiddleware(composedHandler, context);\n  }\n  return composedHandler(request);\n};\nexport { composeTransferHandler };\n//# sourceMappingURL=composeTransferHandler.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}